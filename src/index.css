@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles */

:root {
    --color-primary: #0ea5e9;
    --color-primary-dark: #0284c7;
    --color-background: #0f172a;
    --color-surface: #1e293b;
    --color-surface-light: #334155;
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--color-surface);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: var(--color-surface-light);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #475569;
}

/* Focus styles */
*:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

/* Button base styles */
@layer components {
    .btn {
        @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
        @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900;
        @apply disabled:opacity-50 disabled:cursor-not-allowed;
    }

    .btn-primary {
        @apply btn bg-primary-500 text-white hover:bg-primary-600;
        @apply focus:ring-primary-500;
    }

    .btn-secondary {
        @apply btn bg-slate-700 text-slate-100 hover:bg-slate-600;
        @apply focus:ring-slate-500;
    }

    .btn-danger {
        @apply btn bg-red-600 text-white hover:bg-red-700;
        @apply focus:ring-red-500;
    }

    .btn-success {
        @apply btn bg-emerald-600 text-white hover:bg-emerald-700;
        @apply focus:ring-emerald-500;
    }

    .btn-ghost {
        @apply btn bg-transparent text-slate-300 hover:bg-slate-800;
        @apply focus:ring-slate-500;
    }

    .btn-icon {
        @apply p-2 rounded-lg transition-colors;
        @apply hover:bg-slate-800 focus:ring-2 focus:ring-slate-500;
    }

    /* Input styles */
    .input {
        @apply w-full px-3 py-2 rounded-lg;
        @apply bg-slate-800 border border-slate-700;
        @apply text-slate-100 placeholder-slate-500;
        @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent;
        @apply transition-colors duration-200;
    }

    .input-label {
        @apply block text-sm font-medium text-slate-300 mb-1;
    }

    /* Card styles */
    .card {
        @apply bg-slate-800 rounded-xl border border-slate-700;
        @apply shadow-lg shadow-black/20;
    }

    .card-header {
        @apply px-4 py-3 border-b border-slate-700;
        @apply flex items-center justify-between;
    }

    .card-body {
        @apply p-4;
    }

    /* Slider styles */
    .slider {
        @apply w-full h-2 rounded-full appearance-none cursor-pointer;
        @apply bg-slate-700;
    }

    .slider::-webkit-slider-thumb {
        @apply appearance-none w-4 h-4 rounded-full;
        @apply bg-primary-500 cursor-pointer;
        @apply hover:bg-primary-400 transition-colors;
    }

    .slider::-moz-range-thumb {
        @apply w-4 h-4 rounded-full border-0;
        @apply bg-primary-500 cursor-pointer;
        @apply hover:bg-primary-400 transition-colors;
    }

    /* Toggle/Switch styles */
    .toggle {
        @apply relative inline-flex h-6 w-11 items-center rounded-full;
        @apply bg-slate-700 transition-colors duration-200;
        @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-slate-900;
    }

    .toggle.active {
        @apply bg-primary-500;
    }

    .toggle-thumb {
        @apply inline-block h-4 w-4 transform rounded-full bg-white;
        @apply transition-transform duration-200;
    }

    .toggle.active .toggle-thumb {
        @apply translate-x-6;
    }

    .toggle:not(.active) .toggle-thumb {
        @apply translate-x-1;
    }

    /* Badge styles */
    .badge {
        @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
    }

    .badge-success {
        @apply badge bg-emerald-500/20 text-emerald-400;
    }

    .badge-warning {
        @apply badge bg-amber-500/20 text-amber-400;
    }

    .badge-error {
        @apply badge bg-red-500/20 text-red-400;
    }

    .badge-info {
        @apply badge bg-blue-500/20 text-blue-400;
    }
}

/* Animations */
@keyframes fade-in {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slide-in {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes pulse-ring {
    0% {
        transform: scale(0.8);
        opacity: 0.8;
    }
    50% {
        transform: scale(1);
        opacity: 0.4;
    }
    100% {
        transform: scale(0.8);
        opacity: 0.8;
    }
}

.animate-fade-in {
    animation: fade-in 0.3s ease-out;
}

.animate-slide-in {
    animation: slide-in 0.3s ease-out;
}

.animate-pulse-ring {
    animation: pulse-ring 2s ease-in-out infinite;
}

/* Drop zone styles */
.drop-zone {
    @apply border-2 border-dashed border-slate-600 rounded-xl;
    @apply transition-all duration-200;
}

.drop-zone:hover,
.drop-zone.dragging {
    @apply border-primary-500 bg-primary-500/5;
}

.drop-zone.dragging {
    @apply scale-[1.02];
}

/* Preview canvas container */
.preview-container {
    @apply relative overflow-hidden rounded-lg;
    @apply bg-[repeating-conic-gradient(#1e293b_0%_25%,#0f172a_0%_50%)] bg-[length:20px_20px];
}

/* Progress bar */
.progress-bar {
    @apply h-2 bg-slate-700 rounded-full overflow-hidden;
}

.progress-bar-fill {
    @apply h-full bg-gradient-to-r from-primary-500 to-primary-400;
    @apply transition-all duration-300 ease-out;
}

/* Print strips grid */
.strips-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}

/* Thermal paper texture (for preview) */
.thermal-paper {
    background: linear-gradient(
        to bottom,
        #faf8f5 0%,
        #f5f3f0 50%,
        #faf8f5 100%
    );
    background-size: 100% 4px;
}

/* Connection status indicator */
.connection-indicator {
    @apply w-3 h-3 rounded-full;
}

.connection-indicator.connected {
    @apply bg-emerald-500;
    box-shadow: 0 0 8px rgba(16, 185, 129, 0.6);
}

.connection-indicator.connecting {
    @apply bg-amber-500 animate-pulse;
}

.connection-indicator.disconnected {
    @apply bg-slate-500;
}

.connection-indicator.error {
    @apply bg-red-500;
}

/* Image comparison slider */
.comparison-slider {
    @apply absolute inset-0 cursor-ew-resize;
}

.comparison-slider-handle {
    @apply absolute top-0 bottom-0 w-1 bg-primary-500;
    @apply flex items-center justify-center;
}

.comparison-slider-handle::before {
    content: "";
    @apply absolute w-8 h-8 rounded-full bg-primary-500;
    @apply flex items-center justify-center;
    @apply shadow-lg;
}

/* Tooltip */
[data-tooltip] {
    @apply relative;
}

[data-tooltip]::after {
    content: attr(data-tooltip);
    @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-2;
    @apply px-2 py-1 text-xs rounded bg-slate-900 text-slate-100;
    @apply opacity-0 invisible transition-all duration-200;
    @apply whitespace-nowrap;
}

[data-tooltip]:hover::after {
    @apply opacity-100 visible;
}

/* Enhanced zoom slider */
input[type="range"].zoom-slider {
    @apply h-1.5 rounded-full appearance-none cursor-pointer;
    background: linear-gradient(
        to right,
        var(--color-primary) 0%,
        #334155 100%
    );
}

input[type="range"].zoom-slider::-webkit-slider-thumb {
    @apply appearance-none w-3 h-3 rounded-full;
    @apply bg-white cursor-pointer shadow-md;
    @apply hover:bg-slate-100 transition-colors;
}

input[type="range"].zoom-slider::-moz-range-thumb {
    @apply w-3 h-3 rounded-full border-0;
    @apply bg-white cursor-pointer shadow-md;
    @apply hover:bg-slate-100 transition-colors;
}

/* Preview container with better overflow handling */
.preview-viewport {
    @apply overflow-hidden relative;
    background: repeating-conic-gradient(#1e293b 0% 25%, #0f172a 0% 50%);
    background-size: 16px 16px;
}

/* Smooth pan transitions */
.preview-content {
    @apply transition-transform duration-75 ease-out;
}

/* Strip separator indicator */
.strip-separator {
    @apply absolute top-0 bottom-0 w-px;
    background: repeating-linear-gradient(
        to bottom,
        transparent 0px,
        transparent 4px,
        rgba(239, 68, 68, 0.5) 4px,
        rgba(239, 68, 68, 0.5) 8px
    );
}

/* Text label preview */
.text-preview {
    @apply bg-white rounded p-1;
    image-rendering: pixelated;
}

/* Mobile-specific styles */
@media (max-width: 640px) {
    .card {
        @apply rounded-lg;
    }

    .btn {
        @apply px-3 py-1.5 text-sm;
    }
}

/* Print-specific styles (for browser print) */
@media print {
    body {
        @apply bg-white text-black;
    }

    .no-print {
        display: none !important;
    }
}

/* Separated strips container */
.separated-strips {
    @apply flex flex-wrap gap-4 justify-center;
}

.separated-strip {
    @apply flex flex-col items-center;
}

.separated-strip-label {
    @apply text-lg font-bold text-slate-400 mb-1;
}

/* Smooth checkbox styling */
input[type="checkbox"] {
    @apply w-4 h-4 rounded border-slate-600 bg-slate-800;
    @apply checked:bg-primary-500 checked:border-primary-500;
    @apply focus:ring-2 focus:ring-primary-500 focus:ring-offset-0;
    @apply transition-colors cursor-pointer;
}

/* Compact panel layout */
.compact-panel {
    @apply flex flex-col;
}

.compact-panel > * {
    @apply flex-shrink-0;
}

/* Strip count badge */
.strip-badge {
    @apply inline-flex items-center justify-center;
    @apply min-w-[1.5rem] h-6 px-2 rounded-full;
    @apply text-xs font-medium;
    @apply bg-primary-500/20 text-primary-400;
}
